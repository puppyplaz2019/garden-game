<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sanco's Zen Garden: Expansion</title>
    <style>
        body { margin: 0; background: #87CEEB; font-family: 'Courier New', monospace; overflow: hidden; display: flex; flex-direction: column; align-items: center; }
        
        #stats-bar { background: white; padding: 10px 30px; border-radius: 0 0 20px 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); font-weight: bold; z-index: 10; border: 2px solid #d4af37; }
        
        #garden-canvas { position: relative; width: 100vw; height: 100vh; background: #458B00; cursor: crosshair; }
        
        #ui-panel { position: absolute; bottom: 30px; display: flex; gap: 15px; z-index: 100; }
        .tool-btn { padding: 12px 20px; border-radius: 12px; border: 3px solid white; cursor: pointer; color: white; font-weight: bold; transition: 0.2s; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
        .tool-btn:active { transform: translateY(4px); box-shadow: none; }
        
        /* Item Styles */
        .placed-item { position: absolute; transform: translate(-50%, -100%); transition: transform 0.2s; cursor: pointer; user-select: none; }
        .placed-item:hover { filter: brightness(1.2); transform: translate(-50%, -105%) scale(1.1); }
        
        /* Pond Special Animation */
        .pond { 
            width: 120px; height: 70px; background: #1E90FF; border-radius: 50%; 
            border: 4px solid #4682B4; box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
            animation: ripple 3s infinite;
        }
        @keyframes ripple { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        #reset-btn { position: absolute; bottom: 30px; right: 30px; background: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-weight: bold; }
        #exit-btn { position: absolute; top: 20px; left: 20px; background: white; border: 1px solid #ccc; padding: 5px 15px; border-radius: 5px; text-decoration: none; color: #333; font-weight: bold; }
    </style>
</head>
<body>

    <a id="exit-btn" href="https://puppyplaz2019.github.io/Arcade-HUB/">‚Üê EXIT</a>

    <div id="stats-bar">
        NOTES: <span id="notes-display">0</span> ‚ô™ | <span id="count-display">0</span>/100 ITEMS
    </div>

    <div id="garden-canvas" onclick="placeItem(event)">
        </div>

    <div id="ui-panel">
        <div class="tool-btn" style="background:#ff69b4;" onclick="setTool('flower', 50, event)">üå∏ FLOWER (50)</div>
        <div class="tool-btn" style="background:#2ecc71;" onclick="setTool('tree', 100, event)">üå≥ TREE (100)</div>
        <div class="tool-btn" style="background:#95a5a6;" onclick="setTool('rock', 25, event)">ü™® ROCK (25)</div>
        <div class="tool-btn" style="background:#1E90FF;" onclick="setTool('pond', 500, event)">üíß POND (500)</div>
    </div>

    <button id="reset-btn" onclick="resetGarden()">RESET ALL</button>

    <script>
        let notes = parseInt(localStorage.getItem('notes_collected') || 0);
        let items = JSON.parse(localStorage.getItem('garden_save') || "[]");
        let currentTool = 'flower';
        let currentCost = 50;

        function updateDisplay() {
            document.getElementById('notes-display').innerText = notes.toLocaleString();
            document.getElementById('count-display').innerText = items.length;
            localStorage.setItem('notes_collected', notes);
            localStorage.setItem('garden_save', JSON.stringify(items));
        }

        function setTool(type, cost, e) {
            e.stopPropagation();
            currentTool = type;
            currentCost = cost;
        }

        function placeItem(e) {
            if (items.length >= 100) {
                alert("Garden is full! 100/100 items.");
                return;
            }
            if (notes < currentCost) {
                alert("Not enough ‚ô™ notes!");
                return;
            }

            const x = (e.clientX / window.innerWidth) * 100;
            const y = (e.clientY / window.innerHeight) * 100;
            
            const newItem = { type: currentTool, x: x, y: y, id: Date.now() };
            
            // Randomize flowers
            if (currentTool === 'flower') {
                const colors = ['#FF69B4', '#FFD700', '#9370DB', '#00FFFF', '#FF4500'];
                newItem.color = colors[Math.floor(Math.random() * colors.length)];
            }

            notes -= currentCost;
            items.push(newItem);
            renderItem(newItem);
            updateDisplay();
        }

        function renderItem(data) {
            const el = document.createElement('div');
            el.className = 'placed-item';
            el.style.left = data.x + "%";
            el.style.top = data.y + "%";
            el.id = "item-" + data.id;
            
            // Delete item on click
            el.onclick = (e) => {
                e.stopPropagation();
                removeItem(data.id);
            };

            if (data.type === 'flower') {
                el.innerHTML = `<svg width="40" height="40" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="20" fill="yellow"/>
                    <circle cx="50" cy="20" r="20" fill="${data.color}"/>
                    <circle cx="80" cy="50" r="20" fill="${data.color}"/>
                    <circle cx="50" cy="80" r="20" fill="${data.color}"/>
                    <circle cx="20" cy="50" r="20" fill="${data.color}"/>
                </svg>`;
            } else if (data.type === 'tree') {
                const height = 60 + Math.random() * 40;
                el.innerHTML = `<div style="width:10px; height:${height}px; background:#5D4037; margin:0 auto;"></div>
                                <div style="width:60px; height:60px; background:#2D5A27; border-radius:50%; margin-top:-${height+20}px;"></div>`;
            } else if (data.type === 'rock') {
                el.innerHTML = `<div style="width:40px; height:25px; background:#7f8c8d; border-radius:40% 50% 30% 40%;"></div>`;
            } else if (data.type === 'pond') {
                el.className += ' pond';
                el.style.transform = "translate(-50%, -50%)"; // Ponds sit flat
            }

            document.getElementById('garden-canvas').appendChild(el);
        }

        function removeItem(id) {
            items = items.filter(i => i.id !== id);
            document.getElementById('item-' + id).remove();
            updateDisplay();
        }

        function resetGarden() {
            if(confirm("Clear your masterpiece and start over?")) {
                items = [];
                document.getElementById('garden-canvas').innerHTML = "";
                updateDisplay();
            }
        }

        // Initial Load
        items.forEach(renderItem);
        updateDisplay();
    </script>
</body>
</html>
